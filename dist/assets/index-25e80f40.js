(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const $input=document.querySelectorAll(".calculator__keypad input"),preventFocus=()=>{$input.forEach(e=>{e.addEventListener("focus",()=>{e.blur()})})},d$2=document,eventType$1=["click","keydown"],$operationScreen=d$2.querySelector(".screen__panel--operation"),$resultScreen=d$2.querySelector(".screen__panel--result"),btnActions={AC:()=>{$operationScreen.innerHTML="",$resultScreen.innerHTML=""},DEL:()=>{["ANS","SET"].forEach(n=>{$operationScreen.innerHTML.endsWith(n)&&($operationScreen.innerHTML=$operationScreen.innerHTML.slice(0,-2))}),$operationScreen.innerHTML=$operationScreen.innerHTML.slice(0,-1),$resultScreen.innerHTML=""}};let varList={ANS:null,X:null,Y:null,Z:null};const extractEntry=e=>{let n=e.target.value,t=e.key;if(t==="Enter"&&(t="="),t==="Backspace"&&(t="DEL"),t==="Delete"&&(t="AC"),t==="s"&&e.altKey&&(t="SET"),t==="a"&&e.altKey&&(t="ANS"),e.type==="click")return n;if(e.type==="keydown")return t.toUpperCase()},validateActionBtn=e=>btnActions.hasOwnProperty(e),triggerBtnAction=e=>btnActions[e](),validateToShow=e=>{const n=[/^[XYZ]/,/^\d/,/^[().*/+-]/],t=["SET","ANS"];let c=!1;return n.some(r=>r.test(e))&&(c=!0),t.some(r=>e==null?void 0:e.includes(r))&&(c=!0),c},clearScreen=()=>{$operationScreen.innerHTML="",$resultScreen.innerHTML=""},showAtScreen=e=>{const n=/[.*/+-]/;let t=$operationScreen.innerHTML.at(-1);n.test(e)&&n.test(t)?$operationScreen.innerHTML:n.test(e)&&varList.ANS&&$operationScreen.innerHTML===""?$operationScreen.innerHTML+="ANS"+e:$operationScreen.innerHTML+=e},extractScreenValue=()=>{let e=$operationScreen.innerHTML,n=[...e];return n.forEach((t,c)=>{t==="("&&/\d/.test(n[c-1])&&(n.splice(c,0,"*"),e=n.join(""))}),e},setVariable=e=>{let n=e[0],t;e.endsWith("ANS")&&(e=e.replace("ANS",`${varList.ANS}`)),t=e.split("").slice(4).join(""),varList[n]=t,$resultScreen.innerHTML=`>${e[0]}=${varList[e[0]]}`},addToSessionStorage=()=>{const e=JSON.stringify(varList);sessionStorage.setItem("varList",e)},replaceVariables=e=>{let n=e;return Object.keys(varList).forEach(t=>{n=n.replaceAll(`${t}`,`${varList[t]}`)}),n},calculateResult=value=>{try{let calculatedValue=eval(value);varList.ANS=calculatedValue,$resultScreen.innerHTML=calculatedValue}catch(e){$resultScreen.innerHTML="Syntax Error"}},calculatorLogic=()=>{eventType$1.forEach(e=>{d$2.addEventListener(e,n=>{let t=extractEntry(n),c=validateToShow(t);if(validateActionBtn(t)&&triggerBtnAction(t),$resultScreen.innerHTML&&t!=="DEL"&&t!=="?"&&n.target.matches(".calculator__keypad input")&&clearScreen(),c&&showAtScreen(t),t==="="){let o=extractScreenValue();/^[XYZ]SET\d+$/.test(o)||/^[XYZ]SETANS+$/.test(o)?setVariable(o):(o=replaceVariables(o),calculateResult(o)),addToSessionStorage()}})})},d$1=document,$overlay=d$1.querySelector(".overlay"),$infoModal=d$1.querySelector(".info-modal"),$btnCloseModal=d$1.querySelector(".info-modal__close-btn"),toggleActive=()=>{$overlay.classList.toggle("active"),$infoModal.classList.toggle("active")},showModal=()=>{toggleActive(),d$1.addEventListener("click",e=>{(e.target.value==="?"||e.target===$btnCloseModal||e.target===$overlay)&&toggleActive()})},d=document,ss=sessionStorage,eventType=["click","keydown"],fillVariablePanel=()=>{const e=JSON.parse(ss.getItem("varList"));console.log(e);for(const n in e){let t=d.querySelector(`.variable-${n}`);console.log(t),t.textContent=`${n} = ${e[n]}`}},updateVariablesPanel=()=>{fillVariablePanel(),eventType.forEach(e=>{d.addEventListener(e,n=>{(n.target.value==="="||n.key==="Enter")&&fillVariablePanel()})})};preventFocus();calculatorLogic();updateVariablesPanel();showModal();const styles="";
